DE Optimization; Servers; Data centers; Edge computing; Task analysis;
   Cloud computing; Big Data; Finite device buffers; fog computing;
   Internet of Things (IoT); Lyapunov optimization
AB Lyapunov optimization has shown to be effective for online optimization of fog computing, asymptotically approaching the optimality only achievable offline. However, it is not directly applicable to the Internet of Things, as inexpensive sensors have small buffers and cannot generate sufficient backlogs to activate the optimization. This article proposes an enabling technique for the Lyapunov optimization to operate under finite buffers without loss of asymptotic optimality. This is achieved by optimizing the biases (namely, "virtual placeholders") of the buffers to create sufficient backlogs. The optimization of the placeholders is proved to be a new three-layer shortest path problem and solved in a distributed manner by extending the Bellman-Ford algorithm. The sizes of the virtual placeholders decline fastest along the shortest paths from the sensors to the data center, thereby preventing unnecessary detours and reducing end-to-end delays. Corroborated by simulations, the proposed approach is able to operate under the conditions the direct application of the Lyapunov optimization fails, and significantly increase the throughput and reduce the delays in other cases.