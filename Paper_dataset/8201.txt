DE Logic gates; Sensors; Smart cities; Computer architecture; Cloud
   computing; Cloud computing; edge computing; fog computing; Internet of
   Things; middleware; smart city
AB In this article, we present and analyze MUSANet, a hierarchical, distributed, context-aware architecture for collecting, processing, and distributing data in smart cities. We discuss some use case examples related to monitoring and predicting bus arrivals in public transportation and weather conditions. We also present performance results in different scenarios that point to the feasibility of our goal: a scalable architecture with a fast response time to traffic events. MUSANet is based on a three-tier architecture distributed over the cloud, fog, and edge, and supporting complex event processing (CEP) in all of them. Although the system is under development using the InterSCity platform in the cloud, the ContextNet middleware at the fog, and the Mobile-Hub platform at the edge, the MUSANet architecture can be deployed using other platforms, maintaining the concept of tiering responsibilities to minimize network bandwidth and delay, group communication, and broad mobile support.