DE Cloud; dynamic pricing; electric vehicle (EV); renewable energy;
   software define networking (SDN); vehicle-to-grid (V2G)
AB Smart grids (SG) energy management system and electric vehicle (EV) have gained considerable reputation in recent years. This has been enabled by the high growth of EVs on roads; however, this may lead to a significant impact on the power grids. In order to keep EVs far from causing peaks in power demand and to manage building energy during the day, it is important to perform an intelligent scheduling for EVs charging and discharging service and buildings areas by including different metrics, such as real-time price and demand-supply curve. In this paper, we propose a real-time dynamic pricing model for EVs charging and discharging service and building energy management, in order to reduce the peak loads. Our proposed approach uses a decentralized cloud computing architecture based on software define networking (SDN) technology and network function virtualization (NFV). We aim to schedule user's requests in a real-time way and to supervise communications between microgrids controllers, SG and user entities (i.e., EVs, electric vehicles public supply stations, advance metering infrastructure, smart meters, etc.). We formulate the problem as a linear optimization problem for EV and a global optimization problem for all microgrids. We solve the problems by using different decentralized decision algorithms. To the best of our knowledge, this is the first paper that proposes a pricing model based on decentralized Cloud-SDN architecture in order to solve all the aforementioned issues. The extensive simulations and comparisons with related works proved that our proposed pricing model optimizes the energy load during peak hours, maximizes EVs utility, and maintains the microgrid stability. The simulation is based on real electric load of the city of Toronto.