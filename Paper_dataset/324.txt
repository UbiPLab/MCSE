DE Data centers; 5G mobile communication; Reliability; Computer
   architecture; Energy consumption; Nonhomogeneous media; Delays; Network
   function virtualization; virtual baseband unit; C-RAN; 5G
ID STOCHASTIC GEOMETRY; DYNAMIC PLACEMENT; OPTIMIZATION; ENERGY;
   RELIABILITY; ALLOCATION
AB 5G and beyond need to meet stringent requirements of latency, reliability, and support for heterogeneous devices. However, the existing wireless network architecture is limited to fulfill these constraints. Cloud radio access network, along with network function virtualization, is suggested to provide flexibility and network agility. It decouples network functions, such as firewall and packet gateway, from hardware to software deployed in the cloud. Thus comprehensive end-to-end formulation of this architecture is required for virtual network function placement. Most of existing works focus on virtual functions placement with different objectives, addressing different service requirements separately. In this article, six 5G constraints are considered simultaneously to find optimal virtual network function placement with service differentiation. The selected six parameters reflect services' requirements, network constraints and computing constraints. We first model the overall cloud radio access network as a multi-layer loopless-random hypergraph and we provide the overall formulation of the system. Then, we reformulate such model considering backup virtual functions and CPU over-provisioning techniques to improve both virtual function's reliability and processing latency. Finally, we propose service differentiation to reduce CPU utilization and energy consumption, while using the above techniques. The results suggest that the application of service differentiation can significantly improve assignment of computing resources and energy efficiency.